<!-- Preconnect to external domains for faster loading -->
<link rel="preconnect" href="https://www.kbgoshala.org" crossorigin>
<link rel="preconnect" href="https://secure.kbmandir.org" crossorigin>
<link rel="preconnect" href="https://madhupurinivaasadasa.github.io" crossorigin>
<link rel="dns-prefetch" href="https://www.kbgoshala.org">
<link rel="dns-prefetch" href="https://secure.kbmandir.org">

<!-- For local testing, uncomment the line below and comment out the CDN line -->
<!-- <link rel="stylesheet" href="donations_wpadmin.css"/> -->
<link rel="stylesheet" href="https://madhupurinivaasadasa.github.io/ihf-scripts/donations_wpadmin.min.css"/>

<h1>Donation Opportunities</h1>


<!-- Employer banner -->
<div class="employer-banner" id="employerBanner">
    Your Employer: <strong id="bannerEmployerName"></strong>
    <span id="matchingBadge" class="matching-badge"></span>
    <span class="edit-link" onclick="showEmployerModal()">Edit</span>
</div>

<div class="section-header">
    <h2>Choose Your Seva</h2>
    <p>Every offering is an act of devotion. Select a seva to view details and donate.</p>
</div>

<!-- Donation tiles -->
<div id="heroTile"></div>
<div class="container" id="donationTiles"></div>

<!-- Modal backdrop -->
<div class="modal-backdrop" id="modalBackdrop" aria-hidden="true"></div>

<!-- Employer modal -->
<div class="employer-modal" id="employerModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <button class="modal-close" onclick="hideEmployerModal()" aria-label="Close">&times;</button>
    <div class="modal-icon">ü§ù</div>
    <h2 class="modal-title" id="modalTitle">Double Your Donation!</h2>
    <p class="modal-subtitle">
        Many employers match charitable donations. Enter your employer name so we can check if your gift can be doubled.
    </p>
    <div class="modal-seva-context" id="modalSevaContext">
        <span class="seva-icon" id="modalSevaIcon"></span>
        <span id="modalSevaLabel"></span>
    </div>
    <div class="modal-input-group">
        <input type="text" id="modalEmployerInput" placeholder="Employer name (e.g., Apple)" list="employerSuggestions" autocomplete="off" />
        <button onclick="handleEmployerSubmit()">Apply</button>
    </div>
    <a class="modal-skip" onclick="handleEmployerSkip()">Not applicable</a>
    <datalist id="employerSuggestions"></datalist>
</div>

<!-- For local testing, uncomment the two lines below and comment out the CDN lines -->
<!-- <script src="donation-tiles-goshala.js"></script> -->
<!-- <script src="donation-matcher.js"></script> -->
<script src="https://madhupurinivaasadasa.github.io/ihf-scripts/donation-tiles-goshala.min.js"></script>
<script src="https://madhupurinivaasadasa.github.io/ihf-scripts/donation-matcher.min.js"></script>
